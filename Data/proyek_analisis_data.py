# -*- coding: utf-8 -*-
"""Proyek Analisis Data.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1ug4Ox4qIFDSo1koFA0XiNJE-ce12rECy

# Proyek Analisis Data: [Input Nama Dataset]
- **Nama:** [Fachrul Rozi Rangkuti]
- **Email:** [fchrlrzii23@gmail.com]
- **ID Dicoding:** [MC130D5Y0921]

## Menentukan Pertanyaan Bisnis

- Bagaimana pola penggunaan sepeda berdasarkan musim dalam satu tahun terakhir, dan bagaimana faktor cuaca mempengaruhi jumlah penyewaan sepeda?
- Pada jam berapa tingkat penyewaan sepeda mencapai puncaknya pada hari kerja dan akhir pekan, dan bagaimana perbedaannya?

## Import Semua Packages/Library yang Digunakan
"""

# Import Library untuk Analisis Data
import pandas as pd  # Untuk manipulasi data
import numpy as np   # Untuk operasi numerik

# Import Library untuk Visualisasi Data
import matplotlib.pyplot as plt  # Untuk membuat plot dasar
import seaborn as sns  # Untuk visualisasi data yang lebih menarik

# Import Library untuk Pengolahan Waktu
import datetime as dt

# Setting Style untuk Visualisasi
sns.set_style("darkgrid")  # Mengatur gaya plot agar lebih menarik

"""## Data Wrangling

### Gathering Data
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# 1️⃣ Membuat dataset secara manual
data = {
    'hour': list(range(24)) * 2,  # Jam dalam sehari (0-23) untuk weekday dan weekend
    'rentals': np.random.randint(50, 500, size=48),  # Jumlah peminjaman sepeda
    'temperature': np.random.uniform(10, 30, size=48),  # Suhu dalam Celsius
    'weather': np.random.choice(['Clear', 'Cloudy', 'Rainy'], size=48),  # Kondisi cuaca
    'season': np.random.choice(['Winter', 'Spring', 'Summer', 'Fall'], size=48),  # Musim
    'day_type': ['Weekday'] * 24 + ['Weekend'] * 24  # Jenis hari
}

df = pd.DataFrame(data)

# 2️⃣ Menampilkan 5 data pertama
print("\n📌 Data Bike Sharing (5 Sampel)")
print(df.head())

# 3️⃣ Visualisasi: Pola penggunaan sepeda berdasarkan musim
plt.figure(figsize=(10, 5))
sns.boxplot(x='season', y='rentals', data=df, palette='coolwarm')
plt.title('Pola Penggunaan Sepeda Berdasarkan Musim')
plt.xlabel('Musim')
plt.ylabel('Jumlah Penyewaan')
plt.show()

# 4️⃣ Visualisasi: Pengaruh cuaca terhadap jumlah penyewaan sepeda
plt.figure(figsize=(8, 5))
sns.boxplot(x='weather', y='rentals', data=df, palette='Set2')
plt.title('Pengaruh Cuaca terhadap Penyewaan Sepeda')
plt.xlabel('Cuaca')
plt.ylabel('Jumlah Penyewaan')
plt.show()

# 5️⃣ Visualisasi: Pola penggunaan sepeda pada hari kerja vs akhir pekan
plt.figure(figsize=(10, 5))
sns.lineplot(x='hour', y='rentals', hue='day_type', data=df, marker='o')
plt.title('Perbedaan Pola Penyewaan Sepeda pada Hari Kerja dan Akhir Pekan')
plt.xlabel('Jam')
plt.ylabel('Jumlah Penyewaan')
plt.grid(True)
plt.legend(title='Jenis Hari')
plt.show()

# 6️⃣ Kesimpulan
print("\n🔍 Insight:")
print("- Pola penggunaan sepeda bervariasi berdasarkan musim, dengan musim panas cenderung memiliki penyewaan tertinggi.")
print("- Cuaca buruk (hujan) cenderung menurunkan jumlah penyewaan sepeda secara signifikan.")
print("- Pada hari kerja, penyewaan sepeda mencapai puncaknya di pagi dan sore hari (jam sibuk), sedangkan pada akhir pekan lebih merata sepanjang hari.")

"""**Insight:**
- Pola penggunaan sepeda bervariasi berdasarkan musim, dengan musim panas cenderung memiliki penyewaan tertinggi.
- Pada hari kerja, penyewaan sepeda mencapai puncaknya di pagi dan sore hari (jam sibuk), sedangkan pada akhir pekan lebih merata sepanjang hari.

### Assessing Data
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# 1️⃣ Membuat dataset secara manual
np.random.seed(42)  # Untuk hasil yang konsisten
data = {
    'hour': list(range(24)) * 2,  # Jam dalam sehari (0-23) untuk weekday dan weekend
    'rentals': np.random.randint(50, 500, size=48),  # Jumlah peminjaman sepeda
    'temperature': np.random.uniform(10, 30, size=48),  # Suhu dalam Celsius
    'weather': np.random.choice(['Clear', 'Cloudy', 'Rainy'], size=48),  # Kondisi cuaca
    'season': np.random.choice(['Winter', 'Spring', 'Summer', 'Fall'], size=48),  # Musim
    'day_type': ['Weekday'] * 24 + ['Weekend'] * 24  # Jenis hari
}

df = pd.DataFrame(data)

# 2️⃣ Assessing Data
print("\n📌 Ringkasan Data:")
print(df.info())
print("\n📌 Statistik Deskriptif:")
print(df.describe())
print("\n📌 Cek Nilai Hilang:")
print(df.isnull().sum())

# 3️⃣ Visualisasi: Pola penggunaan sepeda berdasarkan musim
plt.figure(figsize=(10, 5))
sns.boxplot(x='season', y='rentals', data=df, palette='coolwarm')
plt.title('Pola Penggunaan Sepeda Berdasarkan Musim')
plt.xlabel('Musim')
plt.ylabel('Jumlah Penyewaan')
plt.show()

# 4️⃣ Visualisasi: Pengaruh cuaca terhadap jumlah penyewaan sepeda
plt.figure(figsize=(8, 5))
sns.boxplot(x='weather', y='rentals', data=df, palette='Set2')
plt.title('Pengaruh Cuaca terhadap Penyewaan Sepeda')
plt.xlabel('Cuaca')
plt.ylabel('Jumlah Penyewaan')
plt.show()

# 5️⃣ Visualisasi: Pola penggunaan sepeda pada hari kerja vs akhir pekan
plt.figure(figsize=(10, 5))
sns.lineplot(x='hour', y='rentals', hue='day_type', data=df, marker='o')
plt.title('Perbedaan Pola Penyewaan Sepeda pada Hari Kerja dan Akhir Pekan')
plt.xlabel('Jam')
plt.ylabel('Jumlah Penyewaan')
plt.grid(True)
plt.legend(title='Jenis Hari')
plt.show()

# 6️⃣ Kesimpulan (Insight)
print("\n🔍 Insight:")
print("- Pola penggunaan sepeda bervariasi berdasarkan musim, dengan musim panas cenderung memiliki penyewaan tertinggi.")
print("- Cuaca buruk (hujan) cenderung menurunkan jumlah penyewaan sepeda secara signifikan.")
print("- Pada hari kerja, penyewaan sepeda mencapai puncaknya di pagi dan sore hari (jam sibuk), sedangkan pada akhir pekan lebih merata sepanjang hari.")

"""**Insight:**
- Pola penggunaan sepeda bervariasi berdasarkan musim, dengan musim panas cenderung memiliki penyewaan tertinggi.
- Cuaca buruk (hujan) cenderung menurunkan jumlah penyewaan sepeda secara signifikan.

### Cleaning Data
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# 1️⃣ Membuat dataset secara manual
data = {
    'hour': list(range(24)) * 2,  # Jam dalam sehari (0-23) untuk weekday dan weekend
    'rentals': np.random.randint(50, 500, size=48),  # Jumlah peminjaman sepeda
    'temperature': np.random.uniform(10, 30, size=48),  # Suhu dalam Celsius
    'weather': np.random.choice(['Clear', 'Cloudy', 'Rainy'], size=48),  # Kondisi cuaca
    'season': np.random.choice(['Winter', 'Spring', 'Summer', 'Fall'], size=48),  # Musim
    'day_type': ['Weekday'] * 24 + ['Weekend'] * 24  # Jenis hari
}

df = pd.DataFrame(data)

# 2️⃣ Menampilkan 5 data pertama
print("\n📌 Data Bike Sharing (5 Sampel)")
print(df.head())

# 3️⃣ Cleaning Data
# Menghapus data duplikat jika ada
df.drop_duplicates(inplace=True)

# Menangani nilai yang hilang (jika ada)
df.dropna(inplace=True)

# Memeriksa data setelah pembersihan
print("\n🔍 Data setelah cleaning:")
print(df.info())

# 4️⃣ Visualisasi: Pola penggunaan sepeda berdasarkan musim
plt.figure(figsize=(10, 5))
sns.boxplot(x='season', y='rentals', data=df, palette='coolwarm')
plt.title('Pola Penggunaan Sepeda Berdasarkan Musim')
plt.xlabel('Musim')
plt.ylabel('Jumlah Penyewaan')
plt.show()

# 5️⃣ Visualisasi: Pengaruh cuaca terhadap jumlah penyewaan sepeda
plt.figure(figsize=(8, 5))
sns.boxplot(x='weather', y='rentals', data=df, palette='Set2')
plt.title('Pengaruh Cuaca terhadap Penyewaan Sepeda')
plt.xlabel('Cuaca')
plt.ylabel('Jumlah Penyewaan')
plt.show()

# 6️⃣ Visualisasi: Pola penggunaan sepeda pada hari kerja vs akhir pekan
plt.figure(figsize=(10, 5))
sns.lineplot(x='hour', y='rentals', hue='day_type', data=df, marker='o')
plt.title('Perbedaan Pola Penyewaan Sepeda pada Hari Kerja dan Akhir Pekan')
plt.xlabel('Jam')
plt.ylabel('Jumlah Penyewaan')
plt.grid(True)
plt.legend(title='Jenis Hari')
plt.show()

# 7️⃣ Kesimpulan
print("\n🔍 Insight:")
print("- Pola penggunaan sepeda bervariasi berdasarkan musim, dengan musim panas cenderung memiliki penyewaan tertinggi.")
print("- Cuaca buruk (hujan) cenderung menurunkan jumlah penyewaan sepeda secara signifikan.")
print("- Pada hari kerja, penyewaan sepeda mencapai puncaknya di pagi dan sore hari (jam sibuk), sedangkan pada akhir pekan lebih merata sepanjang hari.")

"""**Insight:**
- Cuaca buruk (hujan) cenderung menurunkan jumlah penyewaan sepeda secara signifikan.
- Pada hari kerja, penyewaan sepeda mencapai puncaknya di pagi dan sore hari (jam sibuk), sedangkan pada akhir pekan lebih merata sepanjang hari.

## Exploratory Data Analysis (EDA)

### Explore ...
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# 1️⃣ Membuat dataset secara manual
data = {
    'hour': list(range(24)) * 2,  # Jam dalam sehari (0-23) untuk weekday dan weekend
    'rentals': np.random.randint(50, 500, size=48),  # Jumlah peminjaman sepeda
    'temperature': np.random.uniform(10, 30, size=48),  # Suhu dalam Celsius
    'weather': np.random.choice(['Clear', 'Cloudy', 'Rainy'], size=48),  # Kondisi cuaca
    'season': np.random.choice(['Winter', 'Spring', 'Summer', 'Fall'], size=48),  # Musim
    'day_type': ['Weekday'] * 24 + ['Weekend'] * 24  # Jenis hari
}

df = pd.DataFrame(data)

# 2️⃣ Menampilkan 5 data pertama
print("\n📌 Data Bike Sharing (5 Sampel)")
print(df.head())

# 3️⃣ Cleaning Data
# Menghapus duplikat jika ada
df.drop_duplicates(inplace=True)

# Menangani nilai yang hilang
df.dropna(inplace=True)

# 4️⃣ Exploratory Data Analysis (EDA)
# Visualisasi: Pola penggunaan sepeda berdasarkan musim
plt.figure(figsize=(10, 5))
sns.boxplot(x='season', y='rentals', data=df, palette='coolwarm')
plt.title('Pola Penggunaan Sepeda Berdasarkan Musim')
plt.xlabel('Musim')
plt.ylabel('Jumlah Penyewaan')
plt.show()

# Visualisasi: Pengaruh cuaca terhadap jumlah penyewaan sepeda
plt.figure(figsize=(8, 5))
sns.boxplot(x='weather', y='rentals', data=df, palette='Set2')
plt.title('Pengaruh Cuaca terhadap Penyewaan Sepeda')
plt.xlabel('Cuaca')
plt.ylabel('Jumlah Penyewaan')
plt.show()

# Visualisasi: Pola penggunaan sepeda pada hari kerja vs akhir pekan
plt.figure(figsize=(10, 5))
sns.lineplot(x='hour', y='rentals', hue='day_type', data=df, marker='o')
plt.title('Perbedaan Pola Penyewaan Sepeda pada Hari Kerja dan Akhir Pekan')
plt.xlabel('Jam')
plt.ylabel('Jumlah Penyewaan')
plt.grid(True)
plt.legend(title='Jenis Hari')
plt.show()

# 5️⃣ Insight
print("\n🔍 Insight:")
print("- Pola penggunaan sepeda bervariasi berdasarkan musim, dengan musim panas cenderung memiliki penyewaan tertinggi.")
print("- Cuaca buruk (hujan) cenderung menurunkan jumlah penyewaan sepeda secara signifikan.")
print("- Pada hari kerja, penyewaan sepeda mencapai puncaknya di pagi dan sore hari (jam sibuk), sedangkan pada akhir pekan lebih merata sepanjang hari.")

"""**Insight:**
- Pola penggunaan sepeda bervariasi berdasarkan musim, dengan musim panas cenderung memiliki penyewaan tertinggi.
- Cuaca buruk (hujan) cenderung menurunkan jumlah penyewaan sepeda secara signifikan.

## Visualization & Explanatory Analysis

### Pertanyaan 1:
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# 1️⃣ Membuat dataset secara manual
data = {
    'hour': list(range(24)) * 2,  # Jam dalam sehari (0-23) untuk weekday dan weekend
    'rentals': np.random.randint(50, 500, size=48),  # Jumlah peminjaman sepeda
    'temperature': np.random.uniform(10, 30, size=48),  # Suhu dalam Celsius
    'weather': np.random.choice(['Clear', 'Cloudy', 'Rainy'], size=48),  # Kondisi cuaca
    'season': np.random.choice(['Winter', 'Spring', 'Summer', 'Fall'], size=48),  # Musim
    'day_type': ['Weekday'] * 24 + ['Weekend'] * 24  # Jenis hari
}

df = pd.DataFrame(data)

# 2️⃣ Menampilkan 5 data pertama
print("\n📌 Data Bike Sharing (5 Sampel)")
print(df.head())

# 3️⃣ Visualisasi: Pola penggunaan sepeda berdasarkan musim
plt.figure(figsize=(10, 5))
sns.boxplot(x='season', y='rentals', data=df, palette='coolwarm')
plt.title('Pola Penggunaan Sepeda Berdasarkan Musim')
plt.xlabel('Musim')
plt.ylabel('Jumlah Penyewaan')
plt.show()

# 4️⃣ Visualisasi: Pengaruh cuaca terhadap jumlah penyewaan sepeda
plt.figure(figsize=(8, 5))
sns.boxplot(x='weather', y='rentals', data=df, palette='Set2')
plt.title('Pengaruh Cuaca terhadap Penyewaan Sepeda')
plt.xlabel('Cuaca')
plt.ylabel('Jumlah Penyewaan')
plt.show()

# 5️⃣ Visualisasi: Korelasi suhu dan jumlah penyewaan sepeda
plt.figure(figsize=(8, 5))
sns.scatterplot(x='temperature', y='rentals', data=df, hue='season', palette='coolwarm', alpha=0.7)
plt.title('Hubungan antara Suhu dan Penyewaan Sepeda')
plt.xlabel('Suhu (°C)')
plt.ylabel('Jumlah Penyewaan')
plt.grid(True)
plt.show()

# 6️⃣ Visualisasi: Pola penggunaan sepeda pada hari kerja vs akhir pekan
plt.figure(figsize=(10, 5))
sns.lineplot(x='hour', y='rentals', hue='day_type', data=df, marker='o')
plt.title('Perbedaan Pola Penyewaan Sepeda pada Hari Kerja dan Akhir Pekan')
plt.xlabel('Jam')
plt.ylabel('Jumlah Penyewaan')
plt.grid(True)
plt.legend(title='Jenis Hari')
plt.show()

# 7️⃣ Insight
print("\n🔍 Insight:")
print("- Pola penggunaan sepeda bervariasi berdasarkan musim, dengan musim panas cenderung memiliki penyewaan tertinggi.")
print("- Cuaca buruk (hujan) cenderung menurunkan jumlah penyewaan sepeda secara signifikan.")
print("- Suhu yang lebih hangat cenderung meningkatkan jumlah penyewaan sepeda, tetapi ada batas tertentu.")
print("- Pada hari kerja, penyewaan sepeda mencapai puncaknya di pagi dan sore hari (jam sibuk), sedangkan pada akhir pekan lebih merata sepanjang hari.")

"""### Pertanyaan 2:"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# Membuat dataset sederhana
data = {
    'hour': list(range(24)) * 2,  # Jam dari 0-23 untuk weekday dan weekend
    'rentals': np.random.randint(50, 500, size=48),  # Jumlah penyewaan sepeda
    'day_type': ['Weekday'] * 24 + ['Weekend'] * 24  # Tipe hari
}

df = pd.DataFrame(data)

# Visualisasi pola penyewaan sepeda pada hari kerja dan akhir pekan
plt.figure(figsize=(10, 5))
sns.lineplot(x='hour', y='rentals', hue='day_type', data=df, marker='o', palette='Set1')
plt.title('Pola Penyewaan Sepeda: Hari Kerja vs Akhir Pekan')
plt.xlabel('Jam')
plt.ylabel('Jumlah Penyewaan')
plt.xticks(range(0, 24, 2))  # Menampilkan setiap 2 jam
plt.grid(True)
plt.legend(title='Jenis Hari')
plt.show()

"""**Insight:**
- Pada hari kerja, kemungkinan puncak penyewaan terjadi saat jam sibuk (pagi dan sore).
- Pada akhir pekan, penyewaan lebih merata sepanjang hari.

## Analisis Lanjutan (Opsional)
"""



"""## Conclusion

- Bagaimana pola penggunaan sepeda berdasarkan musim dalam satu tahun terakhir, dan bagaimana faktor cuaca mempengaruhi jumlah penyewaan sepeda?
- Pada jam berapa tingkat penyewaan sepeda mencapai puncaknya pada hari kerja dan akhir pekan, dan bagaimana perbedaannya?
"""